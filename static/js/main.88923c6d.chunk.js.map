{"version":3,"sources":["components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Loader.js","components/Modal.js","components/Button.js","api/getImages.js","components/App.js","index.js"],"names":["SearchBarHeader","styled","header","SearchForm","form","SearchButton","button","SearchButtonLabel","span","SearchFormInput","input","Searchbar","state","searchQuery","onChange","e","target","name","value","setState","onSubmit","preventDefault","props","onFormSubmit","this","type","autoComplete","autoFocus","placeholder","Component","ImageGalleryItm","li","Image","img","ImageGalleryItem","images","onImageClick","map","id","previewURL","webformatURL","key","onClick","src","alt","ImageGrid","ul","ImageGallery","Loader","color","height","width","Overlay","div","ModalWindow","Modal","handleKeyDown","code","onModalClose","window","addEventListener","removeEventListener","imageURL","LoadMore","Button","onLoadMore","page","axios","get","then","response","data","hits","Application","App","isLoading","imgURL","error","onSearchFormSubmit","query","fetchImages","getImagesAPI","prevState","catch","finally","prevProps","snapshot","scrollTo","top","document","documentElement","scrollHeight","behavior","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.88923c6d.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SearchBarHeader = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n  0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst SearchForm = styled.form`\r\ndisplay: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst SearchButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst SearchButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nconst SearchFormInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder{\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n\r\n  state = {\r\n    searchQuery: ''\r\n  };\r\n\r\n  onChange = e => {\r\n    const {name, value} = e.target;\r\n\r\n    this.setState({[name]: value})\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onFormSubmit(this.state.searchQuery);\r\n    this.setState({searchQuery: ''});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SearchBarHeader>\r\n        <SearchForm onSubmit={this.onSubmit}>\r\n          <SearchButton type=\"submit\">\r\n            <SearchButtonLabel>Search</SearchButtonLabel>\r\n          </SearchButton>\r\n\r\n          <SearchFormInput\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"searchQuery\"\r\n            value={this.state.searchQuery}\r\n            onChange={this.onChange}\r\n          />\r\n        </SearchForm>\r\n      </SearchBarHeader>\r\n    )\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onFormSubmit: PropTypes.func.isRequired\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ImageGalleryItm = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n  0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n\r\nexport default function ImageGalleryItem({images, onImageClick}) {\r\n  return (\r\n    <>\r\n      {images.map(({id, previewURL, webformatURL}) => (\r\n        <ImageGalleryItm key={id}>\r\n          <Image onClick={() => {\r\n            onImageClick(webformatURL);\r\n          }} src={previewURL} alt=\"\"/>\r\n        </ImageGalleryItm>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  onImageClick: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    previewURL: PropTypes.string.isRequired\r\n  }).isRequired)\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nconst ImageGrid = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport default function ImageGallery({images, onImageClick}) {\r\n  return (\r\n    <ImageGrid>\r\n      <ImageGalleryItem onImageClick={onImageClick} images={images}/>\r\n    </ImageGrid>\r\n  )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  onImageClick: PropTypes.func.isRequired,\r\n  images: PropTypes.array.isRequired\r\n};","//Компонент спинера, отображется пока идет загрузка изобаржений. Используй любой готовый компонент, например react-loader-spinner или любой другой.\r\n\r\nimport React from \"react\";\r\nimport LoadIndicator from \"react-loader-spinner\";\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default function Loader() {\r\n  return(\r\n    <LoadIndicator\r\n      type=\"Bars\"\r\n      color=\"#00BFFF\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n  )\r\n}","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nconst ModalWindow = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n\r\nexport default class Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {onModalClose, imageURL} = this.props;\r\n\r\n    return <Overlay onClick={onModalClose}>\r\n      <ModalWindow>\r\n        <img src={imageURL} alt=\"\"/>\r\n      </ModalWindow>\r\n    </Overlay>\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onModalClose: PropTypes.func.isRequired,\r\n  imageURL: PropTypes.string.isRequired\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LoadMore = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n  0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  &:hover {\r\n   background-color: #303f9f;\r\n  }\r\n  &:focus {\r\n   background-color: #303f9f;\r\n  }\r\n`;\r\n\r\nexport default function Button({onLoadMore}) {\r\n  return (\r\n    <LoadMore type=\"button\" onClick={onLoadMore}>\r\n      Load more...\r\n    </LoadMore>\r\n  )\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired\r\n};","import axios from \"axios\";\r\n\r\nconst fetchImages = (searchQuery, page = 0) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=14121213-0294698cbddd3de5cddc95af0&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImages,\r\n};","import React, {Component} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Searchbar from \"./Searchbar\";\r\nimport ImageGallery from \"./ImageGallery\";\r\nimport Loader from \"./Loader\";\r\nimport Modal from \"./Modal\";\r\nimport Button from \"./Button\";\r\n\r\nimport getImagesAPI from \"../api/getImages\"\r\n\r\nconst Application = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n`;\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    searchQuery: '',\r\n    images: [],\r\n    page: 0,\r\n    isLoading: false,\r\n    imgURL: null,\r\n    error: null\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevState.imgURL === this.state.imgURL){\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n\r\n    const prevSearchQuery = prevState.searchQuery;\r\n    const currentSearchQuery = this.state.searchQuery;\r\n\r\n    if (prevSearchQuery !== currentSearchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  };\r\n\r\n  onSearchFormSubmit = (query) => {\r\n    this.setState({\r\n      images: [],\r\n      searchQuery: query,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  onImageClick = (imageURL) => {\r\n    this.setState({\r\n      imgURL: imageURL\r\n    })\r\n  };\r\n\r\n  onModalClose = () => {\r\n    this.setState({\r\n      imgURL: null\r\n    })\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const {searchQuery, page} = this.state;\r\n\r\n    this.setState({isLoading: true});\r\n\r\n    getImagesAPI\r\n      .fetchImages(searchQuery, page)\r\n      .then(images =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1\r\n        })))\r\n      .catch(error => this.setState({error}))\r\n      .finally(() => this.setState({isLoading: false}));\r\n  };\r\n\r\n  render() {\r\n\r\n    const {images, isLoading, error, imgURL} = this.state;\r\n\r\n    return (\r\n      <Application>\r\n        <Searchbar onFormSubmit={this.onSearchFormSubmit}/>\r\n        {error && (<p>{`Whoops, something went wrong: ${error.message}`}</p>)}\r\n        {images.length > 0 && <ImageGallery onImageClick={this.onImageClick} images={images}/>}\r\n        {isLoading && <Loader/>}\r\n        {images.length > 0 && !isLoading && (\r\n          <Button onLoadMore={this.fetchImages}/>\r\n        )}\r\n        {imgURL && <Modal imageURL={imgURL} onModalClose={this.onModalClose}/>}\r\n      </Application>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}